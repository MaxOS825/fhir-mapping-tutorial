map "http://hl7.org/fhir/StructureMap/tutorial7b" = "tutorial"

uses "http://hl7.org/fhir/StructureDefinition/tutorial-left" as source
uses "http://hl7.org/fhir/StructureDefinition/tutorial-right" as target

group tutorial(source source : TLeft, target target : TRight) {
  source.aa as s_aa -> target.aa as t_aa then ab_content(s_aa, t_aa) "rule_aa";
}

group ab_content(source src, target tgt) {
  src.ab as ab -> tgt.ab = ab "rule_ab"; // copy ab inside aa
}